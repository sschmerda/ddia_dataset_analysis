from ..constants.constants import *
from ..standard_import import *

########################################################################################################################
### option enums ###
########################################################################################################################

class ConfIntResultFields(Enum):
    DATASET_NAME = DATASET_NAME_FIELD_NAME_STR
    SEQUENCE_TYPE = LEARNING_ACTIVITY_SEQUENCE_TYPE_NAME_STR
    SEQUENCE_STATISTIC = CONFIDENCE_INTERVAL_SEQUENCE_STATISTIC_FIELD_NAME_STR
    GROUP = GROUP_FIELD_NAME_STR
    ESTIMATOR = CONFIDENCE_INTERVAL_ESTIMATOR_FIELD_NAME_STR
    N_BOOTSTRAP_RESAMPLES = CONFIDENCE_INTERVAL_N_BOOTSTRAP_RESAMPLES_FIELD_NAME_STR
    BOOTSTRAP_METHOD = CONFIDENCE_INTERVAL_BOOTSTRAP_METHOD_FIELD_NAME_STR
    CONFIDENCE_LEVEL = CONFIDENCE_INTERVAL_CONFIDENCE_LEVEL_FIELD_NAME_STR
    STATISTIC_VALUE = CONFIDENCE_INTERVAL_STATISTIC_VALUE_FIELD_NAME_STR
    LOWER_BOUND = CONFIDENCE_INTERVAL_CONF_INT_LOWER_BOUND_FIELD_NAME_STR
    UPPER_BOUND = CONFIDENCE_INTERVAL_CONF_INT_UPPER_BOUND_FIELD_NAME_STR
    SAMPLE_SIZE = CONFIDENCE_INTERVAL_SAMPLE_SIZE_FIELD_NAME_STR
    N_UNIQUE_VALUES = CONFIDENCE_INTERVAL_N_UNIQUE_VALUES_FIELD_NAME_STR
    VARIANCE = CONFIDENCE_INTERVAL_VARIANCE_FIELD_NAME_STR
    STANDARD_DEVIATION = CONFIDENCE_INTERVAL_STANDARD_DEVIATION_FIELD_NAME_STR
    BOOTSTRAP_STANDARD_ERROR = CONFIDENCE_INTERVAL_BOOTSTRAP_STANDARD_ERROR_FIELD_NAME_STR
    RESULT = CONFIDENCE_INTERVAL_RESULT_FIELD_NAME_STR

class SequenceStatistic(Enum):
    SEQUENCE_LENGTH = LEARNING_ACTIVITY_SEQUENCE_LENGTH_NAME_STR
    PCT_UNIQUE_LEARNING_ACTIVITIES_PER_GROUP_IN_SEQ = LEARNING_ACTIVITY_SEQUENCE_PCT_UNIQUE_LEARNING_ACTIVITIES_PER_GROUP_IN_SEQ_NAME_STR
    PCT_REPEATED_LEARNING_ACTIVITIES = LEARNING_ACTIVITY_SEQUENCE_PCT_REPEATED_LEARNING_ACTIVITIES_NAME_STR
    MEAN_SEQUENCE_DISTANCE_ALL_SEQUENCES = LEARNING_ACTIVITY_MEAN_SEQUENCE_DISTANCE_ALL_SEQ_NAME_STR
    MEDIAN_SEQUENCE_DISTANCE_ALL_SEQUENCES = LEARNING_ACTIVITY_MEDIAN_SEQUENCE_DISTANCE_ALL_SEQ_NAME_STR
    MEAN_NORMALIZED_SEQUENCE_DISTANCE_ALL_SEQUENCES = LEARNING_ACTIVITY_MEAN_NORMALIZED_SEQUENCE_DISTANCE_ALL_SEQ_NAME_STR
    MEDIAN_NORMALIZED_SEQUENCE_DISTANCE_ALL_SEQUENCES = LEARNING_ACTIVITY_MEDIAN_NORMALIZED_SEQUENCE_DISTANCE_ALL_SEQ_NAME_STR
    MEAN_SEQUENCE_DISTANCE_UNIQUE_SEQUENCES = LEARNING_ACTIVITY_MEAN_SEQUENCE_DISTANCE_UNIQUE_SEQ_NAME_STR
    MEDIAN_SEQUENCE_DISTANCE_UNIQUE_SEQUENCES = LEARNING_ACTIVITY_MEDIAN_SEQUENCE_DISTANCE_UNIQUE_SEQ_NAME_STR
    MEAN_NORMALIZED_SEQUENCE_DISTANCE_UNIQUE_SEQUENCES = LEARNING_ACTIVITY_MEAN_NORMALIZED_SEQUENCE_DISTANCE_UNIQUE_SEQ_NAME_STR
    MEDIAN_NORMALIZED_SEQUENCE_DISTANCE_UNIQUE_SEQUENCES = LEARNING_ACTIVITY_MEDIAN_NORMALIZED_SEQUENCE_DISTANCE_UNIQUE_SEQ_NAME_STR

class SequenceType(Enum):
    ALL_SEQUENCES = SEQUENCE_DISTANCE_ANALYTICS_SEQUENCE_DIST_BASE_ALL_SEQ_NAME_STR
    UNIQUE_SEQUENCES = SEQUENCE_DISTANCE_ANALYTICS_SEQUENCE_DIST_BASE_UNIQUE_SEQ_NAME_STR

class ConfIntEstimator(Enum):
    MEAN = CONFIDENCE_INTERVAL_ESTIMATOR_MEAN_STR
    MEDIAN = CONFIDENCE_INTERVAL_ESTIMATOR_MEDIAN_STR

class SequenceDistanceAveragingMethod(Enum):
    MEAN = CONFIDENCE_INTERVAL_AVERAGING_METHOD_MEAN_STR
    MEDIAN = CONFIDENCE_INTERVAL_AVERAGING_METHOD_MEDIAN_STR

class SelfDistanceFilter(Enum):
    NO_FILTER = CONFIDENCE_INTERVAL_NO_SELF_DISTANCE_FILTER_STR
    MAIN_DIAGONAL = CONFIDENCE_INTERVAL_MAIN_DIAGONAL_SELF_DISTANCE_FILTER_STR
    ALL_SELF_DISTANCES = CONFIDENCE_INTERVAL_ALL_SELF_DISTANCE_FILTER_STR

class SequenceDistanceType(Enum):
    NON_NORMALIZED = LEARNING_ACTIVITY_SEQUENCE_DISTANCE_NAME_STR
    NORMALIZED = LEARNING_ACTIVITY_NORMALIZED_SEQUENCE_DISTANCE_NAME_STR

########################################################################################################################
### conf int type config ###
########################################################################################################################

SEQUENCE_STATISTIC_LIST = [SequenceStatistic.SEQUENCE_LENGTH,
                           SequenceStatistic.PCT_UNIQUE_LEARNING_ACTIVITIES_PER_GROUP_IN_SEQ,
                           SequenceStatistic.PCT_REPEATED_LEARNING_ACTIVITIES,
                           SequenceStatistic.MEAN_SEQUENCE_DISTANCE_ALL_SEQUENCES,
                           SequenceStatistic.MEAN_NORMALIZED_SEQUENCE_DISTANCE_ALL_SEQUENCES,
                           SequenceStatistic.MEAN_SEQUENCE_DISTANCE_UNIQUE_SEQUENCES,
                           SequenceStatistic.MEAN_NORMALIZED_SEQUENCE_DISTANCE_UNIQUE_SEQUENCES]

ESTIMATOR_LIST = [ConfIntEstimator.MEAN, 
                  ConfIntEstimator.MEDIAN]

SEQUENCE_TYPE_LIST = [SequenceType.ALL_SEQUENCES,
                      SequenceType.UNIQUE_SEQUENCES]


########################################################################################################################
### bootstrap parameters ###
########################################################################################################################

CONFIDENCE_INTERVAL_N_BOOTSTRAP_SAMPLES = 10_000
CONFIDENCE_INTERVAL_BOOTSTRAP_METHOD = 'bca'
CONFIDENCE_INTERVAL_BOOTSTRAP_CONFIDENCE_LEVEL = 0.95

########################################################################################################################
### avg sequence distance bootstrap parameters ###
########################################################################################################################

CONFIDENCE_INTERVAL_BOOTSTRAP_SEQ_DIST_SELF_DISTANCE_FILTER = SelfDistanceFilter.ALL_SELF_DISTANCES